<!DOCTYPE html>
<html lang=”pt-br” xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="style.css" rel="stylesheer">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <title>| App Nobre Chá |</title>
  </head>

  <body>

    <nav id="nav-responsivo" class="navbar navbar-expand-sm navbar-dark bg-dark" aria-label="Third navbar example">
      <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/imagens/logotipo.png"></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsExample03"
                aria-controls="navbarsExample03" aria-expanded="true" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class=" navbar-collapse collapse" id="navbarsExample03">
          <ul class="navbar-nav me-auto mb-2 mb-sm-0">
            <li class="nav-item">
              <a class="nav-link active" aria-current="page" href="/">Home</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="/produtos">Lista de produtos</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <main>

      <div class="container py-5 mb-1">
        <div class="container col-xxl-8 px-4 py-5">
          <div class="row flex-lg-row-reverse align-items-center g-5 py-5">
            <div class="col-10 col-sm-8 col-lg-6">
              <img src="/imagens/young-woman.svg" class="d-block mx-lg-auto img-fluid" alt="moça tomando chá" width="700"
                   height="500" loading="lazy">
            </div>
            <div class="col-lg-6">
              <h1 class="display-5 fw-bold lh-1 mb-3">cadastre seu produto aqui!</h1>
              <p class="lead">Não esqueça de verificar todos os dados do produto antes de relizar o cadastro.</p>
              <div class="d-grid gap-2 d-md-flex justify-content-md-start">

                <a href="/cadastro"><button type="button" class="btn btn-primary btn-lg px-4 me-md-2">
                  Cadastrar Produto</button>
                </a>

              </div>
            </div>
          </div>
        </div>

        <form class="form-inline" action="/busca" method="post">

        <div class="class="row align-items-md-stretch>
          <div class="card text-center">
            <div class="card-header"></div>
            <div class="card-body">Pesquisar no sistema</h5>
              <div class="input-group mb-3">
                <select name="nome" id="nome" class="btn btn-outline-secondary" required>
                  <option value="" class="dropdown-item" >Escolher...</option>
                  <option value="todos" class="dropdown-item" >Por Todos</option>
                  <option value="nomeProduto" class="dropdown-item" >Por Produto</option>
                  <option value="nomeTipo" class="dropdown-item" >Por Tipo</option>
                </select>
                <input type="search" id="buscar" class="form-control" aria-label="Text input with segmented dropdown button" placeholder="Insira sua pesquisa..." name="buscar">
              </div>
              <button class="btn btn-primary">Pesquisar</button>
            </div>
                <div class="card-footer text-muted"></div>
          </div>
        </div>
        </form>

        <div class="row form-group justify-content-center w-100 p-2">
          <h4><span th:text="${menagem}"></span></h4>
        </div>

      </div>


      <div class="row form-group justify-content-center w-100 p-2">
        <table class="table table-hover table-responsive w-auto table-striped">
          <div class="container">
            <div class="card mb-3" style="max-width: 540px;" th:each="produto: ${produtos}">
              <div class="row g-0">
                <div class="col-md-4">
                  <img class="img-fluid rounded-start" alt="foto do produto" width="150px" height="250px"  th:src="|/imagem/${produto.idproduto}|" />
                </div>
                <div class="col-md-8">
                  <div class="card-body">

                    <h5 class="card-title" th:text="${produto.nome}"></h5>

                    <p class="fw-bold" th:text="${'R$ '+produto.preco}"></p>

                    <p class="fw" th:text="${produto.tipo.nome}"></p>

                    <p th:text="${produto.descricao}"></p>

                    <p class="card-text"><small class="text-muted"></small></p>

                    <a th:href="${(#mvc.url('PC#editar').arg(0, produto.idproduto)).build()}" class="btn btn-primary">Atualizar</a>
                    <a th:href="${(#mvc.url('PC#deletarProduto').arg(0, produto.idproduto)).build()}" class="btn btn-danger">Excluir</a>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </table>
      </div>

      <footer class="footer-copyright fixed-bottom bg-dark text-center py-3">
        <span class="text-light align-middle">| App Cha | - © 2022 Copyright</span>
        <span class="text-light align-middle">Realização: Suane Bittencourt</span>
      </footer>

    </main>
  <!-- JavaScript Bundle with Popper -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
          crossorigin="anonymous"></script>
  </body>

</html>